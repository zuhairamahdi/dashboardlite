<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        .sidebar-item {
            transition: all 0.2s;
        }
        .sidebar-item:hover {
            background: #f3f4f6;
        }
        .dark .sidebar-item:hover {
            background: #374151;
        }
        .stat-card {
            transition: transform 0.2s;
        }
        .stat-card:hover {
            transform: translateY(-2px);
        }
        .submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out, margin 0.3s ease-out;
            opacity: 0;
        }
        .submenu.open {
            max-height: 500px;
            opacity: 1;
            margin-top: 0.5rem;
        }
        .mobile-sidebar {
            transition: transform 0.3s ease-in-out;
        }
        @media (max-width: 1023px) {
            .mobile-sidebar {
                transform: translateX(-100%);
            }
            .mobile-sidebar.open {
                transform: translateX(0);
            }
        }
        .backdrop-fade {
            transition: opacity 0.3s ease-in-out;
        }
        .backdrop-fade.hidden {
            opacity: 0;
            pointer-events: none;
        }
    </style>
    <script>
        // Dark mode initialization
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>
</head>
<body class="bg-gray-100 dark:bg-gray-900 transition-colors duration-200">
    <!-- Mobile Sidebar Backdrop -->
    <div id="sidebarBackdrop" class="backdrop-fade fixed inset-0 bg-black bg-opacity-50 z-20 hidden lg:hidden" onclick="toggleMobileSidebar()"></div>
    
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar Container -->
        <div id="sidebarContainer" class="h-full"></div>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto">
            <!-- Header Container -->
            <div id="topbarContainer"></div>

            <!-- Dashboard Content -->
            <div class="p-6 lg:p-8">
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
                    <!-- Left Column (2/3) -->
                    <div class="xl:col-span-2 space-y-6">
                        <!-- Overview Stats -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 transition-colors duration-200">
                            <div class="flex items-center justify-between mb-6">
                                <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Overview</h2>
                                <select class="bg-gray-50 dark:bg-gray-700 border-0 rounded-lg px-4 py-2 text-sm text-gray-600 dark:text-gray-300 outline-none cursor-pointer transition-colors duration-200">
                                    <option>Last month</option>
                                    <option>Last week</option>
                                    <option>Last year</option>
                                </select>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                <!-- Customers Card -->
                                <div class="stat-card bg-gray-50 dark:bg-gray-700 rounded-xl p-5 transition-colors duration-200">
                                    <div class="flex items-center gap-3 mb-2">
                                        <i class="fas fa-users text-gray-600 dark:text-gray-400"></i>
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Customers</span>
                                    </div>
                                    <div class="text-4xl font-bold text-gray-900 dark:text-gray-100 mb-2">1,293</div>
                                    <div class="flex items-center gap-1 text-sm">
                                        <i class="fas fa-arrow-up text-red-500"></i>
                                        <span class="text-red-500 font-medium">36.8%</span>
                                        <span class="text-gray-500 dark:text-gray-400">vs last month</span>
                                    </div>
                                </div>
                                
                                <!-- Balance Card -->
                                <div class="stat-card bg-gray-50 dark:bg-gray-700 rounded-xl p-5 transition-colors duration-200">
                                    <div class="flex items-center gap-3 mb-2">
                                        <i class="fas fa-wallet text-gray-600 dark:text-gray-400"></i>
                                        <span class="text-sm text-gray-600 dark:text-gray-400">Balance</span>
                                    </div>
                                    <div class="text-4xl font-bold text-gray-900 dark:text-gray-100 mb-2">256k</div>
                                    <div class="flex items-center gap-1 text-sm">
                                        <i class="fas fa-arrow-up text-green-500"></i>
                                        <span class="text-green-500 font-medium">36.8%</span>
                                        <span class="text-gray-500 dark:text-gray-400">vs last month</span>
                                    </div>
                                </div>
                            </div>

                            <!-- New Customers Section -->
                            <div class="mb-6">
                                <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-1">857 new customers today!</h3>
                                <p class="text-sm text-gray-500 dark:text-gray-400">Send a welcome message to all new customers.</p>
                            </div>

                            <!-- Customer Avatars -->
                            <div class="flex items-start gap-3">
                                <div class="flex flex-col items-center gap-2">
                                    <img src="https://i.pravatar.cc/100?img=1" alt="Gladyce" class="w-14 h-14 rounded-full border-2 border-white dark:border-gray-700 shadow">
                                    <span class="text-xs text-gray-600 dark:text-gray-400">Gladyce</span>
                                </div>
                                <div class="flex flex-col items-center gap-2">
                                    <img src="https://i.pravatar.cc/100?img=3" alt="Elbert" class="w-14 h-14 rounded-full border-2 border-white dark:border-gray-700 shadow">
                                    <span class="text-xs text-gray-600 dark:text-gray-400">Elbert</span>
                                </div>
                                <div class="flex flex-col items-center gap-2">
                                    <img src="https://i.pravatar.cc/100?img=7" alt="Dash" class="w-14 h-14 rounded-full border-2 border-white dark:border-gray-700 shadow">
                                    <span class="text-xs text-gray-600 dark:text-gray-400">Dash</span>
                                </div>
                                <div class="flex flex-col items-center gap-2">
                                    <img src="https://i.pravatar.cc/100?img=8" alt="Joyce" class="w-14 h-14 rounded-full border-2 border-white dark:border-gray-700 shadow">
                                    <span class="text-xs text-gray-600 dark:text-gray-400">Joyce</span>
                                </div>
                                <div class="flex flex-col items-center gap-2">
                                    <img src="https://i.pravatar.cc/100?img=9" alt="Marina" class="w-14 h-14 rounded-full border-2 border-white dark:border-gray-700 shadow grayscale">
                                    <span class="text-xs text-gray-600 dark:text-gray-400">Marina</span>
                                </div>
                                <div class="flex flex-col items-center gap-2">
                                    <button class="w-14 h-14 rounded-full bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-600 transition">
                                        <i class="fas fa-arrow-right text-gray-600 dark:text-gray-300"></i>
                                    </button>
                                    <span class="text-xs text-gray-600 dark:text-gray-400">View all</span>
                                </div>
                            </div>
                        </div>

                        <!-- Product View Chart -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 transition-colors duration-200">
                            <div class="flex items-center justify-between mb-6">
                                <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Product view</h2>
                                <select class="bg-gray-50 dark:bg-gray-700 border-0 rounded-lg px-4 py-2 text-sm text-gray-600 dark:text-gray-300 outline-none cursor-pointer transition-colors duration-200">
                                    <option>Last 7 days</option>
                                    <option>Last 30 days</option>
                                    <option>Last 90 days</option>
                                </select>
                            </div>
                            <div class="text-4xl font-bold text-gray-300 dark:text-gray-600 mb-6">$10.2m</div>
                            <div class="relative h-64">
                                <canvas id="productChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column (1/3) -->
                    <div class="space-y-6">
                        <!-- Popular Products -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 transition-colors duration-200">
                            <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6">Popular products</h2>
                            <div class="space-y-4">
                                <!-- Product 1 -->
                                <div class="flex items-center gap-3">
                                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-green-200 to-green-400 flex-shrink-0 flex items-center justify-center">
                                        <span class="text-2xl">ðŸ¦Ž</span>
                                    </div>
                                    <div class="flex-1 min-w-0">
                                        <h4 class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate">Orypter - NFT UI Kit</h4>
                                        <span class="inline-block px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200 text-xs rounded-md mt-1">Active</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-semibold text-gray-900 dark:text-gray-100">$3,250.00</div>
                                    </div>
                                </div>

                                <!-- Product 2 -->
                                <div class="flex items-center gap-3">
                                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-400 to-pink-400 flex-shrink-0"></div>
                                    <div class="flex-1 min-w-0">
                                        <h4 class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate">Bento Pro 2.0 Illustrations</h4>
                                        <span class="inline-block px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200 text-xs rounded-md mt-1">Active</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-semibold text-gray-900 dark:text-gray-100">$7,890.00</div>
                                        <button class="text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 mt-1 transition">
                                            <i class="fas fa-eye text-xs"></i>
                                        </button>
                                    </div>
                                </div>

                                <!-- Product 3 -->
                                <div class="flex items-center gap-3">
                                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-orange-400 to-orange-600 flex-shrink-0"></div>
                                    <div class="flex-1 min-w-0">
                                        <h4 class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate">Fleet - travel shopping kit</h4>
                                        <span class="inline-block px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-md mt-1">Offline</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-semibold text-gray-900 dark:text-gray-100">$1,500.00</div>
                                    </div>
                                </div>

                                <!-- Product 4 -->
                                <div class="flex items-center gap-3">
                                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-yellow-300 to-orange-400 flex-shrink-0"></div>
                                    <div class="flex-1 min-w-0">
                                        <h4 class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate">SimpleSocial UI Design Kit</h4>
                                        <span class="inline-block px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200 text-xs rounded-md mt-1">Active</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-semibold text-gray-900 dark:text-gray-100">$9,999.99</div>
                                    </div>
                                </div>

                                <!-- Product 5 -->
                                <div class="flex items-center gap-3">
                                    <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-400 to-pink-500 flex-shrink-0"></div>
                                    <div class="flex-1 min-w-0">
                                        <h4 class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate">Bento Pro vol. 2</h4>
                                        <span class="inline-block px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-200 text-xs rounded-md mt-1">Active</span>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-sm font-semibold text-gray-900 dark:text-gray-100">$4,750.00</div>
                                    </div>
                                </div>
                            </div>

                            <button class="w-full mt-6 py-3 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 font-medium border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition">
                                All products
                            </button>
                        </div>

                        <!-- Comments Section -->
                        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm p-6 transition-colors duration-200">
                            <h2 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-6">Comments</h2>
                            <div class="space-y-4">
                                <!-- Comment 1 -->
                                <div class="flex gap-3">
                                    <img src="https://i.pravatar.cc/100?img=8" alt="Joyce" class="w-10 h-10 rounded-full flex-shrink-0">
                                    <div class="flex-1 min-w-0">
                                        <div class="text-sm">
                                            <span class="font-semibold text-gray-900 dark:text-gray-100">Joyce</span>
                                            <span class="text-gray-500 dark:text-gray-400"> on </span>
                                            <span class="text-gray-900 dark:text-gray-100">Bento Pro 2.0</span>
                                        </div>
                                        <div class="text-xs text-gray-400 dark:text-gray-500 mt-0.5">08:07 AM</div>
                                        <p class="text-sm text-gray-600 dark:text-gray-400 mt-2 leading-relaxed">Great work! When HTML version will be available?</p>
                                    </div>
                                </div>

                                <!-- Comment 2 -->
                                <div class="flex gap-3">
                                    <img src="https://i.pravatar.cc/100?img=1" alt="Gladyce" class="w-10 h-10 rounded-full flex-shrink-0">
                                    <div class="flex-1 min-w-0">
                                        <div class="text-sm">
                                            <span class="font-semibold text-gray-900 dark:text-gray-100">Gladyce</span>
                                            <span class="text-gray-500 dark:text-gray-400"> on </span>
                                            <span class="text-gray-900 dark:text-gray-100">Food Delivery App</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Chart.js configuration
        const ctx = document.getElementById('productChart').getContext('2d');

        // Submenu toggle function
        function toggleSubmenu() {
            const submenu = document.getElementById('submenu');
            const chevron = document.getElementById('chevron');
            submenu.classList.toggle('open');
            chevron.classList.toggle('rotate-180');
        }

        // Update chart colors based on theme
        function getChartColors() {
            const isDark = document.documentElement.classList.contains('dark');
            return {
                highlighted: isDark ? 'rgba(74, 222, 128, 0.6)' : 'rgba(74, 222, 128, 0.5)',
                normal: isDark ? 'rgba(75, 85, 99, 0.5)' : 'rgba(229, 231, 235, 0.5)'
            };
        }

        let chart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['', '', '', '', '', '', '', ''],
                datasets: [{
                    data: [4, 6, 8, 10, 9.5, 7, 8.5, 9],
                    backgroundColor: function(context) {
                        const colors = getChartColors();
                        const activeElements = context.chart.getActiveElements();
                        if (activeElements.length > 0 && activeElements[0].index === context.dataIndex) {
                            return colors.highlighted;
                        }
                        return colors.normal;
                    },
                    borderRadius: 8,
                    borderSkipped: false,
                    hoverBackgroundColor: function(context) {
                        return getChartColors().highlighted;
                    }
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        enabled: true,
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        padding: 12,
                        cornerRadius: 8,
                        displayColors: false,
                        callbacks: {
                            label: function(context) {
                                return '$' + context.parsed.y + 'm';
                            },
                            title: function() {
                                return '2.2m';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        display: false,
                        beginAtZero: true,
                        max: 12
                    },
                    x: {
                        display: false,
                        grid: {
                            display: false
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index'
                },
                onHover: (event, activeElements) => {
                    chart.update();
                }
            }
        });

        // Dark mode toggle function
        document.getElementById('darkModeToggle').addEventListener('click', function() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
            // Update chart colors
            chart.update();
        });

        // Mobile sidebar toggle function moved to components.js
    </script>
    <script src="js/components.js"></script>
</body>
</html>
